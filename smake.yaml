version: 1
targets:
        - default
        - core0
        - core1
        - writer

default:
        type: alias
        targets:
                - core0
                - core1
                - writer

core0:
        type: x
        vars:
                cflags:
                        - -c
                result: core0.out
        source_dir: src/core0
        build_prefix: core0
        objects:
                - main.o
                - blah/test.o
        compile_each_c:
                - gcc $cflags $input -o $output
        link_all:
                - gcc $objects -o $result


core1:
        type: x
        compiler: "gcc"

writer:
        type: x
        compiler: "gcc"
